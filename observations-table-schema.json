{
  "name": "observations",
  "title": "Observations",
  "description": "Table with observations derived from the media files. Associated with deployments (`deploymentID`). Observations can mark non-animal events (rain, human voice, silence) or one or more animal observations (`observationType` = `animal`) of a certain taxon, count, life stage, sex, behavior and/or individual. Observations can be made at different levels (`observationLevel`).",
  "fields": [
    {
      "name": "observationID",
      "description": "Unique identifier of the observation.",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/occurrenceID",
      "type": "string",
      "constraints": {
        "required": true,
        "unique": true
      },
      "example": "OBS001"
    },
    {
      "name": "deploymentID",
      "description": "Identifier of the deployment the observation belongs to. Foreign key to `deployments.deploymentID`.",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/parentEventID",
      "type": "string",
      "constraints": {
        "required": true
      },
      "example": "DEP001"
    },
    {
      "name": "mediaID",
      "description": "Identifier of the media file that was classified. Foreign key to `media.mediaID`.",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/associatedMedia",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "M001"
    },
    {
      "name": "eventID",
      "description": "Identifier of the event the observation belongs to. Facilitates linking event-based and media-based observations with a permanent identifier.",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/eventID",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "sequence1"
    },
    {
      "name": "eventStart",
      "description": "Date and time at which the event started. Formatted as an ISO 8601 string with timezone designator (`YYYY-MM-DDThh:mm:ssZ` or `YYYY-MM-DDThh:mm:ss±hh:mm`).",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/eventDate",
      "skos:narrowMatch": "http://rs.tdwg.org/ac/terms/startTimestamp",
      "type": "datetime",
      "format": "%Y-%m-%dT%H:%M:%S%z",
      "constraints": {
        "required": true
      },
      "example": "2020-03-01T22:00:00Z"
    },
    {
      "name": "eventEnd",
      "description": "Date and time at which the event ended. Formatted as an ISO 8601 string with timezone designator (`YYYY-MM-DDThh:mm:ssZ` or `YYYY-MM-DDThh:mm:ss±hh:mm`).",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/eventDate",
      "skos:narrowMatch": "http://rs.tdwg.org/ac/terms/endTimestamp",
      "type": "datetime",
      "format": "%Y-%m-%dT%H:%M:%S%z",
      "constraints": {
        "required": true
      },
      "example": "2020-04-01T22:00:00Z"
    },
    {
      "name": "observationLevel",
      "description": "Level at which the observation was classified. `media` for media-based observations that are directly associated with a media file (`mediaID`). These are especially useful for machine learning and don't need to be mutually exclusive (e.g. multiple classifications are allowed). `event` for event-based observations that consider an event (comprising a collection of media files). These are especially useful for ecological research and should be mutually exclusive, so that their `count` can be summed. `interval` for observations that are whithin a certain time interval of a media file (e.g. a bird call within a 5-min audio recording). ",
      "type": "string",
      "constraints": {
        "required": true,
        "enum": [
          "media",
          "event",
          "interval"
        ]
      },
      "example": "interval"
    },
    {
      "name": "observationType",
      "description": "Type of the observation. All categories in this vocabulary have to be understandable from an AI point of view. `unknown` describes classifications with a `classificationProbability` below some predefined threshold i.e. neither humans nor AI can say what was recorded.",
      "type": "string",
      "constraints": {
        "required": true,
        "enum": [
          "animal",
          "rain",
          "flowing water",
          "wind",
          "human voice",
          "electro-mechanical",
          "silence",
          "unknown",
          "unclassified"
        ]
      },
      "example": "animal"
    },
    {
      "name": "scientificName",
      "description": "Scientific name of the observed individual(s).",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/scientificName",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "Ramphastos tucanus"
    },
    {
      "name": "count",
      "description": "Number of recorded individuals (optionally of given life stage, sex and behavior).",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/individualCount",
      "type": "integer",
      "constraints": {
        "required": false,
        "minimum": 1
      },
      "example": 2
    },
    {
      "name": "lifeStage",
      "description": "Age class or life stage of the observed individual(s).",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/lifeStage",
      "type": "string",
      "constraints": {
        "required": false,
        "enum": [
          "adult",
          "subadult",
          "juvenile"
        ]
      },
      "example": "adult"
    },
    {
      "name": "sex",
      "description": "Sex of the observed individual(s)",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/sex",
      "type": "string",
      "constraints": {
        "required": false,
        "enum": [
          "female",
          "male"
        ]
      },
      "example": "female"
    },
    {
      "name": "behavior",
      "description": "Primary sound-related behavior. Formatted as a pipe (`|`) separated list for multiple values, with the dominant behavior listed first.",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/behavior",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "foraging"
    },
    {
      "name": "individualID",
      "description": "Identifier of the observed individual.",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/organismID",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "RD213"
    },
    {
      "name": "individualPositionRadius",
      "description": "Estimated distance from the recorder to the observed individual identified by `individualID`. Expressed in meters.",
      "type": "number",
      "constraints": {
        "required": false,
        "minimum": 0
      },
      "unit": "m",
      "example": 6.81
    },
    {
      "name": "frequencyLow",
      "description": "Lower limit of the frequency range to which the observation applies. Expressed in hertz. Must be lower than frequencyHigh.",
      "type": "number",
      "constraints": {
        "required": false,
        "minimum": 0
      },
      "example": 500
    },
    {
      "name": "frequencyHigh",
      "description": "Higher limit of the frequency range to which the observation applies. Expressed in hertz. Must be higher than frequencyLow.",
      "type": "number",
      "constraints": {
        "required": false,
        "minimum": 0
      },
      "example": 1500
    },
    {
      "name": "classificationMethod",
      "description": "Method (most recently) used to classify the observation.",
      "type": "string",
      "constraints": {
        "required": false,
        "enum": [
          "human",
          "machine"
        ]
      },
      "example": "human"
    },
    {
      "name": "classifiedBy",
      "description": "Name or identifier of the person or AI algorithm that (most recently) classified the observation.",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/identifiedBy",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "BirdNET v2.3"
    },
    {
      "name": "classificationTimestamp",
      "description": "Date and time of the (most recent) classification. Formatted as an ISO 8601 string with timezone designator (`YYYY-MM-DDThh:mm:ssZ` or `YYYY-MM-DDThh:mm:ss±hh:mm`).",
      "skos:broadMatch": "http://rs.tdwg.org/dwc/terms/dateIdentified",
      "type": "datetime",
      "format": "%Y-%m-%dT%H:%M:%S%z",
      "constraints": {
        "required": false
      },
      "example": "2020-08-22T10:25:19Z"
    },
    {
      "name": "classificationProbability",
      "description": "Degree of certainty of the (most recent) classification. Expressed as a probability, with `1` being maximum certainty. Omit or provide an approximate probability for human classifications.",
      "type": "number",
      "constraints": {
        "required": false,
        "minimum": 0,
        "maximum": 1
      },
      "example": 0.95
    },
    {
      "name": "observationTags",
      "description": "Tag(s) associated with the observation. Formatted as a pipe (`|`) separated list for multiple values, with values optionally formatted as `key:value` pairs.",
      "skos:exactMatch": "http://rs.tdwg.org/ac/terms/tag",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": "signalToNoise:high|backgroundNoise:low"
    },
    {
      "name": "observationComments",
      "description": "Comments or notes about the observation.",
      "skos:exactMatch": "http://rs.tdwg.org/dwc/terms/occurrenceRemarks",
      "type": "string",
      "constraints": {
        "required": false
      },
      "example": ""
    }
  ],
  "missingValues": [
    "", "NA", "NaN", "nan"
  ],
  "primaryKey": "observationID",
  "foreignKeys": [
    {
      "fields": "deploymentID",
      "reference": {
        "resource": "deployments",
        "fields": "deploymentID"
      }
    },
    {
      "fields": "mediaID",
      "reference": {
        "resource": "media",
        "fields": "mediaID"
      }
    }
  ]
}
